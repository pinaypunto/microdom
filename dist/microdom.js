/* microdom v0.0.1 - 2014/3/26
   http://
   Copyright (c) 2014 Ignacio Olalde - Licensed  */
!function(a,b){b["true"]=a;var c=null;!function(){var a=new RegExp("<[a-z]+.*>","i");c=function(){var b=arguments,c=null;return"string"==typeof b[0]?(command=b[0].match(a)?"create":"select",c=new e(d[command](b[0]))):"object"==typeof b[0]?c=new e(b[0].constructor==Array?b[0]:[b[0]]):"function"==typeof b[0]&&(document.body.onload=b[0]),c},c.isArray=function(a){return!!a&&a.constructor==Array},window.$=$=c}();var d=function(){function a(b){for(var c=[],d=0,e=b.length;e>d;d++)$.isArray(b)?c=c.concat(a(b)):c.push(b);return c}var b={MATCH:document.body.webkitMatchesSelector?"webkitMatchesSelector":"mozMatchesSelector"};return{select:function(a){return a=a.trim(),-1!==a.indexOf(" ")?document.querySelectorAll(a):"#"===a[0]?[document.getElementById(a.substring(1))]:"."===a[0]?document.getElementsByClassName(a.substring(1)):document.getElementsByTagName(a)},match:function(a,c){return!!a[b.MATCH](c)},create:function(a){var b=document.createElement("div");return b.innerHTML=a,b.childNodes},normalizeArray:function(a){for(var b=[],c=0,d=a.length;d>c;c++)$.isArray(a[c])?b=b.concat(a[c]):b.push(a[c]);return b},iterator:function(b,c){var d=[];return b.each(function(a){d.push(c(a))}),d=a(d),1===d.length?d[0]:d}}}(),e=null;!function(a){e=function(a){this.elements=a,this.instanced=!0},a.fn=e.prototype,a.fn.each=function(a){for(var b=0,c=this.elements.length;c>b;b++)a.call(a,this.elements[b],b)},a.fn.matches=function(a){var b=!1;return this.each(function(c){b=d.match(c,a),!b}),b}}(c),function(a){function b(a,b,c,d,e){return c?k(a,d(b,c)):k(a,e(b))}function c(a,b){return function(c){c.classList[a](b)}}function e(a,b){return function(c){c.style.setProperty(a,b)}}function f(a){return function(b){return b.style.getPropertyValue(a)}}function g(a,b){return function(c){c[a]=b}}function h(a){return function(b){return b[a]}}function i(a,b){return function(c){c.setAttribute(a,b)}}function j(a){return function(b){return b.getAttribute(a)}}var k=d.iterator;a.fn.html=function(a){return b(this,"innerHTML",a,g,h)},a.fn.text=function(a){return b(this,"innerText",a,g,h)},a.fn.addClass=function(a){return k(this,c("add",a))},a.fn.removeClass=function(a){return k(this,c("remove",a))},a.fn.toggleClass=function(a){return k(this,c("toggle",a))},a.fn.css=function(a,c){return b(this,a,c,e,f)},a.fn.attr=function(a,c){return b(this,a,c,i,j)},a.fn.data=function(a,b){return this.attr("data-"+a,b)},a.fn.removeAttr=function(a){return k(this,function(b){b.removeAttribute(a)})}}(c),function(a){function b(a,b){return function(c){c.addEventListener(a,b,!1)}}var c=d.iterator,e=d.match;a.fn.bind=function(a,d){return c.call(this,b(a,d))},a.fn.on=function(a,d,f){return c.call(this,b(d,function(){e(event.target,a)&&f.call(f,event)}))}}(c),function(a){function b(a,b,c){a.each(function(a){b.each(function(b){c.call(c,a,b)})})}a.fn.append=function(c){c=c.instanced!==!0?a(c):c;var d=this.elements.length>1;return b(this,c,function(a,b){a.appendChild(d?b.cloneNode(!0):b)}),this},a.fn.prepend=function(c){c=c.instanced!==!0?a(c):c;var d=this.elements.length>1;return b(this,c,function(a,b){b=d?b.cloneNode(!0):b,0===a.childNodes.length?a.appendChild(b):a.insertBefore(b,a.childNodes[0])}),this},a.fn.remove=function(){return this.each(function(a){a.remove()}),this.elements=[],this}}(c),function(a){function b(a,c){return a.parentNode?d.match(a.parentNode,c)?a.parentNode:b(a.parentNode,c):!1}function c(b,c,g,h){var i=h?e:f;g=g||"*";var j=d.getIterator.call(b,i(c,g));return a(h?d.normalizeArray(j):j)}function e(a,b){return function(c){var d=[];for(c=c[a];c;)g(c,b)&&d.push(c),c=c[a];return d}}function f(a,b){return function(c){for(c=c[a];c&&!g(c,b);)c=c[a];return c}}function g(a,b){return 1===a.nodeType&&d.match(a,b)}a.fn.children=function(b){var c,e,f,g=[];return b=b||"*",this.each(function(a){for(c=0,e=a.childNodes.length;e>c;c++)f=a.childNodes[c],1===f.nodeType&&d.match(f,b)&&g.push(f)}),a(g)},a.fn.closest=function(c){var d=[];return this.each(function(a){a=b(a,c),a&&-1===d.indexOf(a)&&d.push(a)}),a(d)},a.fn.filter=function(b){var c=[];return this.each(function(a){d.match(a,b)&&c.push(a)}),a(c)},a.fn.next=function(a){return c(this,"nextSibling",a,!1)},a.fn.nextAll=function(a){return c(this,"nextSibling",a,!0)},a.fn.prev=function(a){return c(this,"previousSibling",a,!1)},a.fn.prevAll=function(a){return c(this,"previousSibling",a,!0)}}(c),c.Gesture=function(){function a(a){g=null,h={},a&&(h.startTime=new Date,h.startPositions=b(event))}function b(a){for(var b=[],c=0,d=a.touches.length;d>c;c++)b.push({x:a.touches[c].pageX,y:a.touches[c].pageY});return b}function c(){var a=0,b=h.positions.length;for(h.deltas=[];b>a;a++)h.deltas.push({x:h.positions[a].x-h.startPositions[a].x,y:h.positions[a].y-h.startPositions[a].y});h.deltaTime=new Date-h.startTime}function d(a,b){var c,d=0,e=f.length;g=a;for(var i=JSON.parse(JSON.stringify(h));e>d;d++)c=f[d][b],c&&c.call(null,a,i)}var e={},f=[],g=null,h={},i=function(b){a(!0),d(b,"start")},j=function(a){h.positions=b(a),h.deltaTime=new Date-h.startTime,c(),d(a,"move")},k=function(b){h.deltaTime=new Date-h.startTime,d(b,"end"),a(!1)},l=function(b){d(b,"cancel"),a(!1)};return document.body.addEventListener("touchstart",i,!1),document.body.addEventListener("touchmove",j,!1),document.body.addEventListener("touchend",k,!1),document.body.addEventListener("touchcancel",l,!1),{register:function(a,b){f.push(b);for(var c=0,d=a.length;d>c;c++)e[a[c]]=new CustomEvent(a[c],{bubbles:!0,cancelable:!0})},trigger:function(a,b){var c,d=e[a];if(d.originalEvent=g,d.gestureData=JSON.parse(JSON.stringify(h)),b)for(c in b)d.gestureData[c]=b[c];g.target.dispatchEvent(d)},asyncTrigger:function(a,b,c){b.dispatchEvent(e[a],c)}}}(),c.Gesture.register(["tap","hold","doubleTap","singleTap"],function(){var a=300,b=300,d=450,e=3,f=!1,g=!1,h=null,i=null,j=function(b,c){f=1===c.startPositions.length,f&&(h=setTimeout(m(b.target),a))},k=function(a,b){var c=b.deltas[0];f=1===b.deltas.length&&Math.abs(c.x)<e&&Math.abs(c.y)<e,f||(clearTimeout(h),clearTimeout(i))},l=function(a,e){f&&e.deltaTime<b&&(clearTimeout(h),c.Gesture.trigger("tap"),g?(clearTimeout(i),c.Gesture.trigger("doubleTap"),g=!1):(i=setTimeout(n(a.target),d),g=!0))},m=function(a){return function(){c.Gesture.asyncTrigger("hold",a)}},n=function(a){return function(){c.Gesture.asyncTrigger("singleTap",a),g=!1}};return{start:j,move:k,end:l}}()),c.Gesture.register(["swiping","swipe"],function(){var a=!1;return{start:function(){a=!1},move:function(b,d){a=1===d.deltas.length,a&&c.Gesture.trigger("swiping",!0)},end:function(){a&&c.Gesture.trigger("swipe",!0)}}}()),function(a){var b={method:"GET",url:"",timeout:1e4};a.ajax=function(a){for(var c in b)a[c]=a[c]||b[c]}}(c)}({},function(){return this}());